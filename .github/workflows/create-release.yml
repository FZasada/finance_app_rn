name: Create Release

on:
  push:
    tags:
      - 'v*' # Triggers on tags like v1.0.0, v2.1.3, etc.

permissions:
  contents: write

jobs:
  create-release:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Extract version from tag
        id: get_version
        run: echo "VERSION=${GITHUB_REF#refs/tags/}" >> $GITHUB_OUTPUT

      - name: Create Release
        run: |
          gh release create ${{ github.ref_name }} \
            --title "${{ steps.get_version.outputs.VERSION }}" \
            --notes "## Changes in ${{ steps.get_version.outputs.VERSION }}
            
            This release includes:
            - Currency switching functionality with Polish Zloty support
            - Updated translations for multiple languages
            - UI improvements and bug fixes
            
            ### Features
            - ğŸŒ Multi-currency support (EUR, USD, PLN, GBP, and more)
            - ğŸ’± Dynamic currency symbol display throughout the app
            - ğŸ”„ Persistent currency preferences
            - ğŸ“± Enhanced user interface
            
            ---
            
            **Full Changelog**: https://github.com/${{ github.repository }}/compare/v1.0.0...${{ steps.get_version.outputs.VERSION }}"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}